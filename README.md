# Twitch 配信タイムライン

指定したTwitchチャンネルの過去の配信履歴を、ズーム可能なタイムラインで視覚的に表示するWebアプリケーションです。

## 主な機能

- **ズーム可能なタイムライン**: 年表示から月・日・時間表示まで、シームレスにズームイン・ズームアウトが可能です。
- **Twitchログイン**: お使いのTwitchアカウントでログインすると、フォロー中のチャンネルを自動で読み込み、タイムラインに表示します。
- **ゲストモード**: ログインせずに、チャンネル名を手動で追加してアプリケーションの機能を試すことができます。
- **チャンネル検索**: Twitch上のチャンネルを名前で検索し、タイムラインに簡単に追加できます。
- **ライブ表示**: 表示中のチャンネルが現在ライブ配信中の場合、インジケーターで示します。

## 技術スタックと仕組み

このアプリケーションは、フロントエンドとバックエンドの2つの要素で構成されています。

- **フロントエンド**:
  - **技術**: HTML, CSS, Vanilla JavaScript (フレームワーク不使用)
  - **役割**: ユーザーインターフェースの描画、タイムラインの操作、Twitch APIとの通信を担当します。

- **バックエンド (API)**:
  - **技術**: Node.js (Vercel上のサーバーレス関数として実行)
  - **ファイル**: `/api/twitch.js`
  - **役割**: ゲストモード利用時に、Twitch APIとの認証を安全に行うためのプロキシとして機能します。これにより、クライアントサイド（ブラウザ）にクライアントシークレットを公開することなく、安全にAPIを利用できます。

## セットアップとデプロイ手順

このプロジェクトを自身でデプロイ・ホスティングする際の手順です。

### 1. Twitchアプリケーションの登録

- **[Twitchデベロッパーコンソール](https://dev.twitch.tv/console)** にアクセスし、新しいアプリケーションを登録します。
  - **Category**: `Website Application`
  - **Client Type**: `Confidential`
- 発行された **Client ID** と **Client Secret** を控えておきます。

### 2. プロジェクトのデプロイ

- このプロジェクトは、サーバーレス関数を実行するため、**Vercel** へのデプロイが必須です。
- GitHubリポジトリをVercelにインポートして、プロジェクトを作成します。

### 3. Vercelの環境変数を設定

- Vercelのプロジェクト設定画面（Settings → Environment Variables）で、以下の2つの環境変数を設定します。
  - `TWITCH_CLIENT_ID`: 手順1で取得した**Client ID**
  - `TWITCH_CLIENT_SECRET`: 手順1で取得した**Client Secret**

### 4. コードとリダイレクトURLの設定

- **クライアントIDの書き換え**:
  - `script.js` の3行目にある `const CLIENT_ID = '...';` の値を、手順1で取得した自身の**Client ID**に書き換えます。
- **リダイレクトURLの設定**:
  - Vercelでのデプロイが完了すると、`https://....vercel.app` というURLが発行されます。
  - このURLを、手順1で作成したTwitchアプリケーションの「**OAuth Redirect URL**」に設定します。

上記の設定完了後、Vercelのプロジェクトを再デプロイ（Redeploy）することで、アプリケーションが完全に動作します。

## 使い方

1.  トップページで「Twitchでログイン」または「ログインせずに利用」を選択します。
2.  チャンネル名を入力して「追加」ボタンを押すと、そのチャンネルがタイムラインの表示対象になります。
3.  画面中央の「年」「月」「日」表示をクリックすると、一つ上の階層にズームアウトします。
4.  カレンダーの各マス（月・日）をクリックすると、その期間にズームインします。
